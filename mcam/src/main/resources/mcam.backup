--
-- PostgreSQL database dump
--

-- Dumped from database version 9.3.4
-- Dumped by pg_dump version 9.3.4
-- Started on 2014-12-11 22:36:23

SET statement_timeout = 0;
SET lock_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SET check_function_bodies = false;
SET client_min_messages = warning;

--
-- TOC entry 174 (class 3079 OID 11750)
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- TOC entry 1960 (class 0 OID 0)
-- Dependencies: 174
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


SET search_path = public, pg_catalog;

--
-- TOC entry 173 (class 1259 OID 32784)
-- Name: roles_pk_sequence; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE roles_pk_sequence
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.roles_pk_sequence OWNER TO postgres;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- TOC entry 171 (class 1259 OID 32768)
-- Name: roles; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE roles (
    id integer DEFAULT nextval('roles_pk_sequence'::regclass) NOT NULL,
    name character varying(45) NOT NULL
);


ALTER TABLE public.roles OWNER TO postgres;

--
-- TOC entry 172 (class 1259 OID 32782)
-- Name: users_pk_sequence; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE users_pk_sequence
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.users_pk_sequence OWNER TO postgres;

--
-- TOC entry 170 (class 1259 OID 24577)
-- Name: users; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE users (
    id integer DEFAULT nextval('users_pk_sequence'::regclass) NOT NULL,
    fname character varying(45) NOT NULL,
    lname character varying(45) NOT NULL,
    password character varying(64) NOT NULL,
    email character varying(64) NOT NULL,
    status smallint DEFAULT 0 NOT NULL,
    role integer DEFAULT 1
);


ALTER TABLE public.users OWNER TO postgres;

--
-- TOC entry 1950 (class 0 OID 32768)
-- Dependencies: 171
-- Data for Name: roles; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY roles (id, name) FROM stdin;
2	ROLE_USER
1	ROLE_ADMIN
\.


--
-- TOC entry 1961 (class 0 OID 0)
-- Dependencies: 173
-- Name: roles_pk_sequence; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('roles_pk_sequence', 4, true);


--
-- TOC entry 1949 (class 0 OID 24577)
-- Dependencies: 170
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY users (id, fname, lname, password, email, status, role) FROM stdin;
1	Piotr	Tokarz	74fbeb20268000db49c4035babad3a3f	tpiotrek@gmail.com	0	1
\.


--
-- TOC entry 1962 (class 0 OID 0)
-- Dependencies: 172
-- Name: users_pk_sequence; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('users_pk_sequence', 21, true);


--
-- TOC entry 1838 (class 2606 OID 32772)
-- Name: id; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY roles
    ADD CONSTRAINT id PRIMARY KEY (id);


--
-- TOC entry 1834 (class 2606 OID 24582)
-- Name: pk_users; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY users
    ADD CONSTRAINT pk_users PRIMARY KEY (id);


--
-- TOC entry 1836 (class 2606 OID 40983)
-- Name: uq_email; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY users
    ADD CONSTRAINT uq_email UNIQUE (email);


--
-- TOC entry 1840 (class 2606 OID 40961)
-- Name: uq_name; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY roles
    ADD CONSTRAINT uq_name UNIQUE (name);


--
-- TOC entry 1841 (class 2606 OID 32777)
-- Name: fk_roles_users; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY users
    ADD CONSTRAINT fk_roles_users FOREIGN KEY (role) REFERENCES roles(id) ON DELETE SET NULL;


--
-- TOC entry 1959 (class 0 OID 0)
-- Dependencies: 5
-- Name: public; Type: ACL; Schema: -; Owner: postgres
--

REVOKE ALL ON SCHEMA public FROM PUBLIC;
REVOKE ALL ON SCHEMA public FROM postgres;
GRANT ALL ON SCHEMA public TO postgres;
GRANT ALL ON SCHEMA public TO PUBLIC;


-- Completed on 2014-12-11 22:36:23

--
-- PostgreSQL database dump complete
--

